import unittest
from unittest import TestCase

from Domain.Board.Grid import Grid
from Domain.Board.IslandsGrid import IslandGrid
from Domain.Puzzles.MidLoop.MidLoopSolver import MidLoopSolver

_ = 0


class MidLoopSolverTests(TestCase):
    def test_minimal_solution_3x3(self):
        grid = Grid(
            [
                [_, _, _, _, _],
                [_, _, _, _, _],
                [1, _, _, _, 1],
                [_, _, _, _, _],
                [_, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌─────┐ \n"
            " │  ·  │ \n"
            " └─────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_with_edge_vertical_symetry_3x3(self):
        grid = Grid(
            [
                [_, _, _, _, _],
                [1, _, _, _, _],
                [_, _, _, _, 1],
                [_, _, _, _, _],
                [_, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌─────┐ \n"
            " └──┐  │ \n"
            " ·  └──┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_6x6_0xm72(self):
        """https://gridpuzzle.com/mid-loop/0xm72"""
        grid = Grid(
            [
                [_, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1],
                [_, _, 1, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌─────┐  ·  ┌──┐ \n"
            " │  ·  └─────┘  │ \n"
            " │  ·  ┌────────┘ \n"
            " │  ·  └──┐  ┌──┐ \n"
            " │  ┌──┐  └──┘  │ \n"
            " └──┘  └────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_7x7_168q6(self):
        """https://gridpuzzle.com/mid-loop/168q6"""
        grid = Grid(
            [
                [_, _, 1, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, 1, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, 1, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, 1, _, _, _, _, _, _, 1, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌─────┐  ┌─────┐  · \n"
            " └──┐  │  │  ·  └──┐ \n"
            " ·  │  └──┘  ┌──┐  │ \n"
            " ·  │  ·  ┌──┘  │  │ \n"
            " ┌──┘  ·  │  ·  └──┘ \n"
            " │  ┌──┐  └────────┐ \n"
            " └──┘  └───────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    @unittest.skip("the solver does not support this puzzle in // execution.")
    def test_solution_8x8_0z44g(self):
        """https://gridpuzzle.com/mid-loop/0z44g"""
        grid = Grid(
            [
                [_, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [1, _, _, _, _, _, 1, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, 1, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, 1, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, 1, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌────────┐  ┌────────┐ \n"
            " │  ·  ·  │  │  ·  ·  │ \n"
            " │  ·  ·  │  │  ·  ·  │ \n"
            " │  ·  ·  │  │  ┌─────┘ \n"
            " └──┐  ┌──┘  │  │  ┌──┐ \n"
            " ·  │  │  ·  │  └──┘  │ \n"
            " ┌──┘  └─────┘  ·  ·  │ \n"
            " └────────────────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_9x9(self):
        grid = Grid(
            [
                [_, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, 1, _, 1, _, _],
                [1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, 1, _, _, _, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, 1, _, _, _, _, _, _, _, _, 1, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌───────────┐  ┌──┐  ┌──┐ \n"
            " │  ·  ·  ·  │  │  └──┘  │ \n"
            " └─────┐  ┌──┘  └──┐  ·  │ \n"
            " ┌─────┘  └────────┘  ·  │ \n"
            " └──┐  ┌───────────┐  ·  │ \n"
            " ·  │  │  ┌──┐  ┌──┘  ┌──┘ \n"
            " ·  │  └──┘  │  │  ·  │  · \n"
            " ┌──┘  ·  ·  │  │  ·  └──┐ \n"
            " └───────────┘  └────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_10x10_0mdr8(self):
        """https://gridpuzzle.com/mid-loop/0mdr8"""
        grid = Grid(
            [
                [_, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, 1, _, _, _, 1, _, _, _, 1, _, _, _, _, 1, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, 1, _, _, _, _, _, 1, _, _, _, _, _, 1, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌─────────────────┐  ·  ┌──┐ \n"
            " │  ·  ·  ·  ·  ┌──┘  ·  │  │ \n"
            " └──┐  ┌─────┐  │  ┌─────┘  │ \n"
            " ·  │  └──┐  │  └──┘  ·  ·  │ \n"
            " ┌──┘  ·  │  └──┐  ┌────────┘ \n"
            " └─────┐  │  ·  │  └────────┐ \n"
            " ┌─────┘  │  ·  └─────┐  ·  │ \n"
            " └─────┐  └─────┐  ┌──┘  ·  │ \n"
            " ┌─────┘  ┌──┐  │  │  ·  ·  │ \n"
            " └────────┘  └──┘  └────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_12x12_0deww(self):
        """https://gridpuzzle.com/mid-loop/0deww"""
        grid = Grid(
            [
                [_, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, 1, _, _, 1, _, _, _, _, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, 1, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, 1, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _, _, 1],
                [_, _, 1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _],
                [1, _, _, _, _, 1, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, 1, _, _, _, _, 1, _, 1, _, _, 1, _, _, _, _, _, _, 1, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, 1, _],
            ]
        )

        expected_solution_str = (
            " ┌─────┐  ·  ·  ·  ┌──┐  ┌────────┐ \n"
            " │  ·  └────────┐  │  └──┘  ·  ·  │ \n"
            " │  ·  ·  ·  ·  │  └────────┐  ·  │ \n"
            " └───────────┐  │  ·  ·  ·  │  ┌──┘ \n"
            " ┌─────┐  ┌──┘  │  ·  ┌─────┘  │  · \n"
            " └──┐  │  │  ·  └─────┘  ·  ·  └──┐ \n"
            " ·  │  │  └────────┐  ┌────────┐  │ \n"
            " ·  │  │  ·  ┌─────┘  │  ·  ·  └──┘ \n"
            " ┌──┘  └─────┘  ┌──┐  └───────────┐ \n"
            " │  ·  ┌──┐  ┌──┘  │  ·  ·  ┌──┐  │ \n"
            " └──┐  │  │  │  ┌──┘  ·  ·  │  │  │ \n"
            " ·  └──┘  └──┘  └───────────┘  └──┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_12x12_a(self):
        grid = Grid(
            [
                [_, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [1, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, 1, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, 1, _, _, 1, _, _, _, 1, _, _, _, _, _, _, 1, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, 1, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, 1, _, 1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌──────────────┐  ·  ┌─────┐  ·  · \n"
            " │  ·  ┌─────┐  └─────┘  ·  └─────┐ \n"
            " │  ·  │  ·  └──┐  ┌────────┐  ·  │ \n"
            " │  ·  └─────┐  │  │  ·  ·  │  ┌──┘ \n"
            " └─────┐  ┌──┘  └──┘  ·  ·  │  │  · \n"
            " ┌──┐  │  └─────┐  ┌────────┘  └──┐ \n"
            " │  └──┘  ·  ·  │  │  ┌─────┐  ·  │ \n"
            " └──┐  ┌────────┘  └──┘  ·  │  ┌──┘ \n"
            " ·  │  └──────────────┐  ·  │  │  · \n"
            " ·  │  ┌──┐  ·  ·  ┌──┘  ┌──┘  └──┐ \n"
            " ┌──┘  │  │  ·  ·  └──┐  │  ·  ┌──┘ \n"
            " └─────┘  └───────────┘  └─────┘  · "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)

    def test_solution_12x12_5j2e0(self):
        """https://gridpuzzle.com/mid-loop/5j2e0"""
        grid = Grid(
            [
                [_, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, 1, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, 1, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, 1, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, 1, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, 1, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, 1, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, 1, _, _],
                [_, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, 1, _, _, _, 1, _, _, _, _, _, _, _, _, 1, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, 1, _, 1, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, 1, _],
                [_, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],
                [1, _, _, _, _, _, _, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, 1],
                [_, _, _, _, _, _, _, _, 1, _, _, _, 1, _, _, _, _, _, _, _, _, _, _],
                [_, _, _, _, 1, _, _, _, _, _, _, _, _, _, _, _, _, _, _, 1, _, _, _],
            ]
        )

        expected_solution_str = (
            " ┌───────────┐  ┌─────┐  ┌────────┐ \n"
            " │  ·  ·  ·  │  └──┐  └──┘  ·  ·  │ \n"
            " │  ┌────────┘  ·  │  ┌─────┐  ·  │ \n"
            " │  │  ·  ┌────────┘  │  ┌──┘  ·  │ \n"
            " │  └─────┘  ┌──┐  ·  │  │  ┌─────┘ \n"
            " │  ┌──┐  ·  │  └─────┘  │  └─────┐ \n"
            " └──┘  │  ┌──┘  ·  ┌──┐  │  ·  ·  │ \n"
            " ·  ·  │  └─────┐  │  │  └──┐  ·  │ \n"
            " ·  ·  │  ┌─────┘  │  │  ·  │  ┌──┘ \n"
            " ┌─────┘  └────────┘  │  ┌──┘  └──┐ \n"
            " │  ·  ·  ·  ┌─────┐  │  │  ·  ·  │ \n"
            " └───────────┘  ·  └──┘  └────────┘ "
        )

        game_solver = MidLoopSolver(grid)
        solution = game_solver.get_solution()
        self.assertEqual(expected_solution_str, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(IslandGrid.empty(), other_solution)


if __name__ == "__main__":
    unittest.main()
