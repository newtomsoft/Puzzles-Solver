import unittest

from Domain.Board.Grid import Grid
from Domain.Puzzles.Shingoki.ShingokiSolver import ShingokiSolver

# region
__ = ' '
W1 = 'w1'
W2 = 'w2'
W3 = 'w3'
W4 = 'w4'
W5 = 'w5'
W6 = 'w6'
W7 = 'w7'
W8 = 'w8'
W9 = 'w9'
WB = 'w11'
WD = 'w13'
WF = 'w15'
B1 = 'b1'
B2 = 'b2'
B3 = 'b3'
B4 = 'b4'
B5 = 'b5'
B6 = 'b6'
B7 = 'b7'
B8 = 'b8'
B9 = 'b9'
BA = 'b10'
BE = 'b14'
BG = 'b16'
BH = 'b17'


# endregion

class ShingokiSolverLongTests(unittest.TestCase):
    def test_solution_16x16(self):
        grid = Grid([
            [__, __, __, __, __, B2, __, __, __, __, B3, B4, __, __, __, __],
            [__, __, __, __, __, __, B2, __, W2, __, W2, W2, __, __, __, W3],
            [__, __, W3, __, __, __, __, W3, __, __, __, __, W2, __, __, __],
            [__, __, __, __, __, __, __, __, __, W3, W3, __, __, __, __, __],
            [__, __, B5, __, __, __, __, B4, __, __, W2, __, __, __, __, __],
            [__, __, W4, __, __, __, W3, __, __, __, __, B3, __, W3, __, __],
            [__, __, __, W3, W5, W4, __, __, __, __, __, B4, __, __, B4, __],
            [__, __, __, __, __, __, __, __, __, __, __, W2, __, __, W2, __],
            [WF, __, __, __, __, __, B3, __, __, __, B2, __, __, __, __, __],
            [__, WB, __, B2, __, __, __, __, __, B3, B2, __, __, __, __, B6],
            [__, __, __, __, __, __, W2, __, __, __, __, __, __, __, B2, __],
            [__, __, __, __, B2, B5, __, __, __, B5, __, __, __, B2, __, __],
            [__, B3, __, __, __, __, __, __, __, W4, __, __, __, __, B2, B3],
            [__, W2, __, __, __, B2, __, __, B2, B3, __, __, __, B3, __, B2],
            [__, __, B2, __, B3, __, B2, __, __, __, __, B3, W2, __, __, __],
            [__, __, __, __, __, W6, __, B3, __, __, __, __, __, __, __, __]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌──┐  ┌──┐  ·  ┌──┐  ┌──┐  ┌─────┐  ┌──┐ \n'
            ' │  │  │  └──┘  └──┐  │  │  │  │  │  ┌──┘  │  │ \n'
            ' │  │  │  ┌──┐  ┌──┘  │  └──┘  └──┘  │  ┌──┘  │ \n'
            ' │  │  └──┘  │  └─────┘  ┌────────┐  └──┘  ┌──┘ \n'
            ' │  │  ┌──┐  │  ┌──┐  ┌──┘  ┌─────┘  ┌─────┘  · \n'
            ' │  │  │  │  │  │  │  │  ·  └─────┐  └────────┐ \n'
            ' │  │  │  │  │  │  │  │  ┌────────┘  ┌─────┐  │ \n'
            ' │  │  │  └──┘  │  └──┘  └──┐  ┌─────┘  ·  │  │ \n'
            ' │  │  └──┐  ┌──┘  ┌─────┐  │  └──┐  ·  ┌──┘  │ \n'
            ' │  │  ┌──┘  └──┐  └──┐  │  └──┐  └──┐  └─────┘ \n'
            ' │  │  └─────┐  └─────┘  └──┐  └──┐  └──┐  ┌──┐ \n'
            ' │  └──┐  ┌──┘  ┌───────────┘  ·  └──┐  └──┘  │ \n'
            ' │  ┌──┘  └──┐  └──┐  ┌───────────┘  └──┐  ┌──┘ \n'
            ' │  │  ┌──┐  │  ┌──┘  └──┐  ┌──┐  └─────┘  └──┐ \n'
            ' │  └──┘  └──┘  └──┐  ┌──┘  │  │  ┌─────┐  ┌──┘ \n'
            ' └─────────────────┘  └─────┘  └──┘  ·  └──┘  · '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_21x21(self):
        grid = Grid([
            [__, __, __, __, B5, W2, __, __, __, __, W6, __, __, __, B7, __, W5, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, __, B3, __, B2, __, __, __, __, __, B4, B4, __],
            [W4, __, B3, W7, __, B5, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, __],
            [__, B2, B4, __, __, __, __, __, W4, __, __, __, W2, __, __, __, W3, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, __, B3, __, __, __, W3, B2, __, __, B2, __, __],
            [B4, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, B2, __, __, B3, __, __],
            [__, __, __, __, __, __, B5, B2, W4, __, __, __, __, __, B5, __, B3, __, __, __, __],
            [__, __, B2, __, __, B6, __, __, __, __, __, __, B4, B2, B2, __, __, __, B3, __, __],
            [__, __, B4, __, __, __, __, __, __, __, B2, B6, __, B2, __, __, __, B3, __, __, __],
            [__, __, B3, __, __, __, __, W3, __, __, __, __, B3, __, __, __, __, B2, B2, __, B2],
            [__, __, __, __, __, __, __, __, __, __, B3, B4, __, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, __, B5, __, __, __, __, __, B4, __, W2, W2, __],
            [__, __, __, B2, __, W3, __, __, __, __, W2, B4, __, B6, W4, W3, __, __, __, B3, __],
            [__, __, B3, W2, B6, __, __, __, __, W2, __, __, __, __, __, W3, __, B5, __, __, __],
            [__, W5, B4, __, __, __, W3, B4, __, B4, __, __, W2, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, __, B2, __, __, W2, __, B4, __, W4, __, B4, __, B4, W2, __, __],
            [__, B6, __, B3, __, __, __, B3, W4, __, __, __, __, __, __, __, W5, B2, __, __, B2],
            [__, __, __, __, __, W2, B5, __, B5, __, __, __, __, __, __, __, __, __, __, __, __],
            [__, __, B2, __, __, __, __, __, __, __, __, __, __, __, W4, __, __, __, W3, __, __],
            [__, __, __, __, __, __, __, __, B2, B2, __, __, __, __, __, __, __, __, __, B3, __],
            [__, __, __, B4, B2, __, __, B2, __, __, __, __, B5, __, __, __, __, __, W4, __, B5]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ┌──┐  ┌──┐  ┌─────┐  ·  ┌─────────────────┐  ┌──────────────┐ \n'
            ' │  │  │  │  │  ┌──┘  ·  └──┐  ┌──┐  ┌──┐  └──┘  ┌─────┐  ┌──┘ \n'
            ' │  └──┘  │  │  └───────────┘  │  └──┘  └─────┐  │  ·  │  │  · \n'
            ' │  ┌──┐  │  └──┐  ┌───────────┘  ┌─────┐  ┌──┘  │  ┌──┘  │  · \n'
            ' └──┘  │  │  ·  │  │  ·  ┌─────┐  │  ┌──┘  │  ┌──┘  └──┐  └──┐ \n'
            ' ┌──┐  │  │  ·  │  └──┐  │  ┌──┘  │  │  ·  │  └──┐  ·  └─────┘ \n'
            ' │  └──┘  │  ·  │  ┌──┘  │  │  ·  │  │  ·  └─────┘  ┌──┐  ·  · \n'
            ' │  ┌──┐  └─────┘  │  ·  │  └──┐  │  └──┐  ┌──┐  ·  │  └─────┐ \n'
            ' └──┘  └────────┐  │  ┌──┘  ┌──┘  └──┐  └──┘  └──┐  └──┐  ┌──┘ \n'
            ' ·  ┌──┐  ·  ┌──┘  │  │  ┌──┘  ┌─────┘  ┌─────┐  │  ┌──┘  └──┐ \n'
            ' ┌──┘  │  ·  │  ┌──┘  │  └─────┘  ┌─────┘  ┌──┘  │  └──┐  ┌──┘ \n'
            ' └──┐  └──┐  │  │  ·  └────────┐  │  ·  ·  │  ┌──┘  ·  │  │  · \n'
            ' ·  │  ┌──┘  │  │  ·  ·  ·  ·  │  └─────┐  │  │  ┌─────┘  └──┐ \n'
            ' ·  │  └─────┘  └─────┐  ┌─────┘  ┌──┐  │  │  │  │  ┌────────┘ \n'
            ' ·  │  ┌──┐  ┌────────┘  │  ┌─────┘  │  │  └──┘  │  │  ·  ·  · \n'
            ' ·  │  │  └──┘  ┌──┐  ·  │  │  ·  ┌──┘  │  ┌──┐  │  └─────┐  · \n'
            ' ┌──┘  │  ┌─────┘  └──┐  │  └──┐  │  ┌──┘  │  │  │  ┌──┐  └──┐ \n'
            ' └──┐  └──┘  ┌─────┐  │  └──┐  │  │  └──┐  │  │  └──┘  │  ┌──┘ \n'
            ' ·  └──┐  ·  └──┐  │  └─────┘  │  └──┐  │  │  └─────┐  │  │  · \n'
            ' ┌─────┘  ┌──┐  │  │  ┌──┐  ┌──┘  ·  │  └──┘  ┌──┐  └──┘  └──┐ \n'
            ' └────────┘  └──┘  └──┘  └──┘  ·  ·  └────────┘  └───────────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_26x26(self):
        grid = Grid([
            [__, __, __, __, __, __, __, __, __, WB, __, __, __, __, __, __, __, __, __, W3, __, __, __, B2, __, __],
            [__, B2, B3, __, B2, __, __, __, B5, W3, __, __, __, W5, __, __, __, __, __, __, B2, __, W2, __, __, __],
            [__, __, __, __, B6, __, B5, B2, __, __, __, __, __, W2, B3, B5, __, B3, B4, __, __, __, __, W2, __, __],
            [__, __, __, __, __, W6, __, __, __, __, __, W2, __, __, __, __, B3, __, __, __, __, __, __, __, __, __],
            [__, __, B4, __, W5, __, __, W2, __, B2, B2, __, __, __, __, __, __, __, W3, __, __, __, W2, __, __, B5],
            [B4, __, __, __, __, __, __, __, __, B3, __, __, B3, __, __, __, __, W2, __, __, __, __, __, B4, __, B4],
            [__, __, __, __, __, __, __, __, __, __, B2, __, B2, __, __, __, __, __, B6, W5, B3, __, __, B2, __, __],
            [W4, __, __, W6, __, W2, __, W2, __, W4, B2, __, B4, __, __, __, __, __, B3, __, __, B3, W3, __, B2, __],
            [__, __, W2, __, __, __, __, __, __, __, __, W2, __, __, B8, W5, __, __, __, __, __, __, __, W2, __, __],
            [W4, B2, __, B3, __, __, __, __, __, __, B2, __, __, __, W6, __, __, W3, __, B5, __, __, __, B3, __, __],
            [__, B3, B2, __, B2, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, __, __, __, __, B8, B3, B2],
            [__, __, __, W2, __, __, __, W2, __, __, B3, B3, __, __, __, __, W3, __, W2, __, B3, __, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, W3, W2, __, B3, __, __, __, __, __, __, __, __, W4, __, __, __, __],
            [B3, __, __, B2, __, __, __, B2, __, __, __, __, __, __, __, __, W2, __, __, __, __, __, W4, __, __, __],
            [B2, B4, __, __, __, B8, __, __, W5, __, __, __, __, __, __, __, __, __, __, __, __, __, __, W7, B4, B2],
            [__, __, B7, __, __, __, __, __, __, __, __, __, __, B7, __, __, W5, __, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, W7, __, W4, __, __, __, B3, __, __, __, B3, B3, __, __, __, __, B2, B2, __, __, __],
            [__, __, __, __, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, W4, B3, __, __, __, __, __],
            [__, __, __, __, W2, __, __, __, __, __, __, B3, B4, __, B4, B5, __, W3, __, __, B4, __, __, __, B2, __],
            [__, __, __, __, __, __, B6, B5, B4, __, __, __, __, __, __, __, __, __, W5, __, __, B2, __, __, __, B2],
            [__, __, __, __, __, __, __, B5, __, __, __, __, __, __, __, __, __, __, __, __, __, B8, __, __, __, __],
            [__, __, W2, __, __, __, __, __, __, B4, W6, B5, __, __, __, __, __, W4, __, W4, __, __, __, B5, B3, B5],
            [__, __, B3, __, __, B3, __, __, W2, __, __, __, W3, __, __, __, __, B4, W2, __, __, B4, __, W3, __, __],
            [B5, __, __, W4, __, __, __, __, __, __, __, W4, __, __, W2, B2, __, __, B2, __, __, __, __, B2, __, __],
            [__, __, __, __, W5, __, __, __, __, __, __, __, __, W2, __, __, W2, __, __, __, B5, __, __, __, __, __],
            [__, W3, __, __, __, __, __, __, W6, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, BA]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()
        expected_solution_string = (
            ' ·  ┌─────┐  ┌──┐  ┌────────────────────────────────┐  ┌────────┐  ┌──┐  ┌──┐ \n'
            ' ·  └──┐  └──┘  │  └──┐  ┌────────┐  ┌──────────────┘  └──┐  ┌──┘  │  └──┘  │ \n'
            ' ┌──┐  │  ┌──┐  │  ┌──┘  │  ·  ┌──┘  └─────┐  ┌─────┐  ┌──┘  └──┐  └─────┐  │ \n'
            ' │  └──┘  │  │  │  │  ┌──┘  ·  └─────┐  ┌──┘  │  ┌──┘  │  ┌──┐  │  ·  ┌──┘  │ \n'
            ' │  ┌──┐  │  │  │  │  │  ·  ┌──┐  ·  │  └──┐  │  │  ·  │  │  │  └─────┘  ┌──┘ \n'
            ' └──┘  │  │  │  │  │  └─────┘  └──┐  └──┐  └──┘  └─────┘  │  └────────┐  └──┐ \n'
            ' ┌──┐  │  │  │  └──┘  ┌──┐  ┌──┐  └──┐  └──────────────┐  │  ┌─────┐  └──┐  │ \n'
            ' │  └──┘  │  └─────┐  │  │  │  └──┐  └────────┐  ┌─────┘  │  └──┐  │  ┌──┘  │ \n'
            ' │  ┌─────┘  ·  ·  └──┘  │  │  ·  │  ┌─────┐  │  └────────┘  ·  │  │  │  ┌──┘ \n'
            ' │  └──┐  ┌─────┐  ┌─────┘  │  ┌──┘  └──┐  │  │  ┌────────┐  ┌──┘  └──┘  │  · \n'
            ' └──┐  └──┘  ┌──┘  └──┐  ┌──┘  └─────┐  │  │  │  │  ┌──┐  │  └──┐  ┌──┐  └──┐ \n'
            ' ·  │  ┌─────┘  ·  ·  │  │  ┌──┐  ┌──┘  │  │  │  │  │  │  └──┐  │  │  │  ┌──┘ \n'
            ' ·  └──┘  ·  ·  ·  ┌──┘  │  │  │  │  ┌──┘  │  └──┘  │  └──┐  │  │  │  │  │  · \n'
            ' ┌─────┐  ┌──┐  ·  └──┐  │  │  └──┘  │  ·  │  ┌─────┘  ·  └──┘  │  │  │  │  · \n'
            ' └──┐  └──┘  └──┐  ┌──┘  │  └──┐  ┌──┘  ·  └──┘  ·  ·  ·  ·  ·  └──┘  │  └──┐ \n'
            ' ·  │  ┌─────┐  │  │  ┌──┘  ·  │  │  ·  ┌──────────────┐  ┌──┐  ·  ·  │  ┌──┘ \n'
            ' ·  │  │  ┌──┘  │  │  │  ┌──┐  │  └──┐  │  ┌──┐  ┌─────┘  │  │  ┌──┐  │  └──┐ \n'
            ' ┌──┘  │  └──┐  │  │  │  │  │  └──┐  └──┘  │  │  └─────┐  │  └──┘  └──┘  ┌──┘ \n'
            ' └──┐  │  ·  │  │  │  │  │  └─────┘  ┌─────┘  └────────┘  │  ┌────────┐  └──┐ \n'
            ' ┌──┘  │  ┌──┘  │  └──┘  └──┐  ┌──┐  │  ·  ┌──────────────┘  └──┐  ·  │  ┌──┘ \n'
            ' │  ┌──┘  └──┐  │  ·  ┌─────┘  │  └──┘  ·  └────────────────────┘  ·  │  │  · \n'
            ' │  └─────┐  │  └──┐  │  ┌──┐  │  ┌──┐  ·  ·  ·  ┌───────────┐  ┌─────┘  └──┐ \n'
            ' │  ┌──┐  │  │  ┌──┘  │  │  │  │  │  │  ·  ┌──┐  │  ┌─────┐  │  └────────┐  │ \n'
            ' └──┘  │  │  │  │  ·  └──┘  │  │  │  │  ·  │  └──┘  │  ┌──┘  │  ·  ┌──┐  │  │ \n'
            ' ┌─────┘  │  │  └───────────┘  │  │  └─────┘  ┌─────┘  └──┐  └─────┘  └──┘  │ \n'
            ' └────────┘  └─────────────────┘  └───────────┘  ·  ·  ·  └─────────────────┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)

    def test_solution_41x41(self):
        grid = Grid([
            [__, __, __, __, __, __, __, __, W4, __, __, __, B2, __, B3, __, __, __, __, __, __, __, __, __, __, B4, __, __, __, __, __, __, __, B3, __, B2, __, __, B4, __, __],
            [B8, __, B3, __, __, B2, B2, __, __, W2, B3, __, __, __, __, __, __, __, __, __, __, __, __, B2, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, __, __, __],
            [W7, __, __, __, __, __, __, __, __, B3, __, W2, __, __, __, B2, __, __, __, B2, __, __, __, __, __, __, __, __, B3, B2, __, __, __, B4, __, W2, __, __, __, W3, __],
            [__, __, __, W2, __, __, __, __, __, __, __, __, B2, W4, __, __, W5, W4, __, __, __, __, W4, W2, __, __, B3, __, __, B2, __, __, __, W4, __, __, __, __, B5, __, __],
            [__, __, __, __, __, B3, W3, __, __, W2, __, __, __, B6, __, __, __, __, W5, W3, __, __, __, __, __, __, W2, __, __, B8, __, __, __, __, __, __, __, __, __, __, B2],
            [__, __, W3, __, __, __, __, __, __, B4, __, __, __, W3, W3, __, __, __, __, __, __, __, W3, __, W5, W2, __, __, __, __, B3, __, W2, __, __, __, B4, __, __, __, __],
            [__, W5, B4, __, W4, __, __, B6, __, __, B2, __, __, __, B6, B3, __, __, __, __, W2, __, __, __, __, __, W2, __, __, __, __, W3, __, __, __, __, __, __, B4, __, __],
            [__, __, __, __, __, B4, __, __, __, __, __, __, __, __, __, B5, __, __, __, __, __, __, W2, B2, __, __, __, __, __, __, __, __, __, __, __, __, __, B4, __, __, __],
            [__, __, __, W4, __, __, W3, __, __, __, __, __, W2, __, __, __, W2, __, __, __, __, __, __, __, __, B3, B4, __, __, __, __, __, W2, __, W2, __, __, B4, __, __, __],
            [__, W3, __, __, __, __, __, __, __, W2, __, __, B4, __, __, __, __, __, B3, W5, __, __, __, __, __, __, __, W3, __, __, B2, __, __, __, B8, __, W2, __, __, __, B3],
            [__, __, W5, __, B2, B6, __, __, __, __, __, __, __, __, __, __, __, __, B7, __, __, __, __, B5, __, W3, __, __, __, __, W2, __, __, __, __, __, __, B4, __, __, __],
            [__, __, __, __, __, W5, __, __, __, __, __, __, B3, __, __, __, B2, __, __, __, __, B4, __, __, __, B2, __, __, __, W2, __, __, __, W3, __, __, __, __, B4, __, B4],
            [__, __, __, __, __, __, __, __, __, B7, __, B5, B3, W2, B2, __, __, __, __, W5, B6, __, __, __, __, __, __, __, B2, __, __, __, __, __, __, B6, __, __, __, B3, __],
            [__, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B4, __, B2, __, __, __, W2, __, __, B3, __, __, __, __, B2, W4, __, __, __, __, __, __, __, __, W4],
            [__, __, __, W2, __, __, __, __, __, __, __, __, __, __, W3, __, __, B2, __, __, W2, __, __, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, B3, B3, __, __],
            [W6, __, __, __, __, __, __, __, __, __, __, __, __, B2, __, B2, __, __, __, B2, B2, __, __, __, __, __, __, __, __, B2, B3, B3, W2, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B2, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, __],
            [__, __, W3, B3, __, __, __, __, __, __, __, __, __, __, W6, __, __, __, __, __, B3, __, __, __, __, B2, B2, __, __, __, __, __, __, __, B3, W2, W2, __, __, __, __],
            [__, B2, __, __, __, B3, __, __, __, __, __, __, __, __, __, __, __, __, __, W2, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, B4, __, __, __, B3, W2, __],
            [__, __, __, __, __, __, W2, W7, __, __, __, B3, __, __, __, __, W4, __, W4, __, __, __, B3, __, W2, __, __, __, __, __, B3, __, __, __, __, __, __, W2, __, __, B2],
            [__, __, W6, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, B2, __, __, __, __],
            [B4, __, __, B2, __, B3, __, __, __, B3, __, __, __, __, __, B2, __, W4, __, __, __, W2, W6, __, __, __, __, __, __, __, __, __, __, __, W4, __, __, B6, B4, __, B3],
            [__, __, __, __, __, __, B3, W4, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, __, __, __, B6, __, __, __, __, __, __, __, __, __, __, __, __, __],
            [__, __, B2, __, B2, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B2, W4, __, __, __, __, __, __, __, B2, __, __, __, __, __],
            [__, __, B4, B3, __, __, B2, __, __, __, __, __, __, __, __, __, B2, __, __, __, B2, B2, __, B4, __, W3, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, __, __, __, __, B2, __, __, __, __, __, __, __, __, __, __, W3, B3, __, B3, __, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, __],
            [W2, __, __, __, __, __, __, B3, __, __, W2, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, __, __, __, B4, __],
            [__, B2, W3, __, __, __, __, __, __, __, __, __, B2, W4, B2, __, __, __, __, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, B2, __, __, __, __],
            [__, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, __, B2, W2, __, __, __, __, __, __, __, __, __, __, B4, __, __, __, W2, W4, __, __, B2, __, W3, __, __],
            [__, __, __, __, W3, B3, __, __, __, __, __, __, __, __, W6, __, __, __, W2, __, __, __, B2, __, W2, __, __, __, __, W3, __, __, __, __, B3, __, __, __, __, W4, __],
            [__, __, __, __, B3, __, __, __, __, __, __, B2, __, __, __, __, __, __, __, W2, __, __, __, __, __, __, __, __, __, B6, __, __, __, W2, __, __, __, __, __, __, W4],
            [__, B3, __, __, W4, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B2, __, __, __, __, __, __, W6, __, __, __, __, __, __, __, __, __, __, __, __, __, __],
            [__, __, __, __, __, __, __, B3, __, __, __, __, __, __, B4, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, W2, __, __, __, __, B2, __, __],
            [W7, __, __, __, __, __, __, __, __, W4, __, __, W2, __, __, W2, __, __, __, W2, W2, __, __, __, __, __, B3, W3, __, B2, __, __, __, __, W4, B2, __, __, B2, __, __],
            [__, __, __, __, __, __, B2, __, __, __, __, __, __, __, __, __, __, __, B4, __, __, __, __, B3, __, __, __, __, __, __, __, __, B2, W4, __, __, __, __, __, __, B3],
            [__, B2, __, __, __, __, __, W2, B2, B6, B4, __, __, __, B2, __, __, __, __, __, __, B4, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, B3, __, __],
            [__, B4, __, __, __, __, __, __, __, __, __, __, __, __, __, W3, __, __, __, __, __, __, __, __, B2, __, W4, __, __, __, __, __, __, B4, __, __, __, __, B6, __, __],
            [__, __, __, __, W2, __, __, __, __, __, __, __, __, __, __, __, B4, __, __, B7, __, __, __, __, __, __, B3, B2, __, W7, __, __, __, __, __, __, __, B3, __, __, __],
            [W3, __, __, __, B2, __, __, __, __, __, __, __, __, __, __, __, B4, __, __, __, __, __, __, __, __, __, __, __, __, __, __, __, B2, __, __, __, __, __, B3, __, __],
            [__, W7, B2, __, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, __, __, __, __, __, B3, __, __, __, __, W6, __, __, __, __, __, __, __, __, __, B2, __, __],
            [__, __, __, __, B4, __, __, B2, __, W4, __, __, __, B2, W2, W4, __, __, __, W6, __, W4, __, B2, __, __, __, B6, __, __, __, __, __, B2, __, __, __, __, __, __, B2]
        ])
        game_solver = ShingokiSolver(grid)
        solution = game_solver.get_solution()

        expected_solution_string = (
            ' ·  ·  ·  ·  ·  ·  ┌───────────┐  ·  ┌─────┐  ·  ·  ┌──┐  ┌─────┐  ┌─────┐  ·  ┌──┐  ·  ·  ·  ·  ┌──┐  ·  ┌─────┐  ·  ·  ┌──┐  ┌──┐  ·  ·  ┌──┐  · \n'
            ' ┌──────────────┐  │  ┌─────┐  └──┐  │  ┌──┘  ·  ┌──┘  └──┘  ┌──┘  └──┐  │  ┌──┘  │  ┌──┐  ┌──┐  │  │  ┌──┘  ┌──┘  ·  ┌──┘  │  │  └──┐  ·  │  │  · \n'
            ' │  ┌────────┐  └──┘  │  ┌──┘  ┌──┘  │  └──┐  ·  └──┐  ┌─────┘  ┌─────┘  │  └──┐  │  │  │  │  │  │  │  └──┐  └──┐  ┌──┘  ┌──┘  │  ┌──┘  ·  │  └──┐ \n'
            ' │  │  ┌──┐  └────────┘  │  ┌──┘  ┌──┘  ┌──┘  ┌─────┘  └──┐  ┌──┘  ┌─────┘  ┌──┘  │  │  │  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌──┘  │  ┌─────┘  ┌──┘ \n'
            ' │  │  │  └──────────────┘  └──┐  │  ┌──┘  ┌──┘  ┌────────┘  │  ┌──┘  ┌─────┘  ┌──┘  │  │  │  └──┘  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌──┘  └──┐  ┌──┘  ┌──┐ \n'
            ' │  │  └──┐  ┌──────────────┐  │  │  │  ┌──┘  ┌──┘  ┌────────┘  │  ┌──┘  ┌─────┘  ┌──┘  │  └──┐  ┌──┘  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌─────┘  └──┐  │  │ \n'
            ' │  │  ┌──┘  │  ┌────────┐  │  └──┘  │  └──┐  │  ┌──┘  ┌────────┘  └──┐  └──┐  ┌──┘  ┌──┘  ┌──┘  │  ┌──┘  │  └──┐  │  ┌──┘  │  ┌──┘  ┌────────┘  │  │ \n'
            ' │  │  │  ┌──┘  └──┐  ┌──┘  └────────┘  ┌──┘  │  │  ┌──┘  ┌───────────┘  ┌──┘  │  ┌──┘  ┌──┘  ┌──┘  └──┐  └─────┘  │  └──┐  │  └──┐  └──┐  ┌─────┘  │ \n'
            ' │  │  │  └──┐  ┌──┘  └──┐  ┌─────┐  ┌──┘  ┌──┘  │  └──┐  └──┐  ┌──┐  ┌──┘  ┌──┘  └──┐  │  ┌──┘  ┌─────┘  ┌────────┘  ┌──┘  └──┐  └──┐  │  └──┐  ┌──┘ \n'
            ' │  │  └──┐  │  │  ┌─────┘  │  ┌──┘  └──┐  │  ┌──┘  ┌──┘  ┌──┘  │  │  │  ┌──┘  ┌─────┘  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌──┘  │  ┌──┘  │  ┌──┐ \n'
            ' │  └─────┘  │  │  └──┐  ┌──┘  │  ┌─────┘  │  │  ┌──┘  ┌──┘  ┌──┘  │  │  │  ┌──┘  ┌─────┘  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌──┘  └──┐  │  │  │ \n'
            ' └───────────┘  └─────┘  │  ┌──┘  └────────┘  │  │  ┌──┘  ┌──┘  ┌──┘  │  │  └──┐  └──┐  ┌──┘  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌─────┘  │  │  │ \n'
            ' ·  ·  ·  ┌──────────────┘  └──┐  ┌───────────┘  │  │  ┌──┘  ┌──┘  ┌──┘  └──┐  └──┐  │  │  ┌──┘  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌─────┘  │  │ \n'
            ' ·  ┌─────┘  ┌─────────────────┘  └──────────────┘  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌──┘  │  │  └──┐  │  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌─────┘  │ \n'
            ' ┌──┘  ┌─────┘  ┌────────────────────────────────┘  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌──┘  └──┐  │  │  │  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌─────┘ \n'
            ' │  ┌──┘  ┌─────┘  ┌──┐  ┌──┐  ┌──┐  ┌───────────┐  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  │  │  ┌──┘  ┌─────┘  ┌────────┘  ┌─────┘  ┌──┐ \n'
            ' │  │  ┌──┘  ┌─────┘  │  │  │  │  │  │  ┌────────┘  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  │  └──┐  └──┐  ┌──┘  ┌────────┘  ┌─────┘  │ \n'
            ' │  │  │  ┌──┘  ┌─────┘  │  │  │  │  │  └──┐  ┌─────┘  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌────────┘  ┌─────┘ \n'
            ' │  │  │  │  ┌──┘  ┌─────┘  │  │  │  └─────┘  └──┐  ┌──┘  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌────────┘  ┌──┐ \n'
            ' │  │  │  │  │  ┌──┘  ┌─────┘  │  │  ┌───────────┘  └──┐  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌────────┘  │ \n'
            ' │  │  │  │  │  │  ┌──┘  ┌─────┘  │  └──────────────┐  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌────────┘ \n'
            ' │  │  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  └──┘  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  │  ┌──┘  ┌─────┐ \n'
            ' │  └──┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌───────────┐  ┌─────┘  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌──┘  └──┐  │  ┌──┘ \n'
            ' └────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──┐  ┌──┘  └────────┘  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  │  ┌──┘  ┌─────┘  │  │  · \n'
            ' ·  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  │  └──────────────┐  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  │  └──┐  │  ┌─────┘  │  · \n'
            ' ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  ┌──┘  │  └────────┘  · \n'
            ' │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  │  ┌──┘  ·  ┌─────┐  · \n'
            ' │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  │  └──┐  ·  │  ┌──┘  · \n'
            ' │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  ┌──┘  ·  │  └──┐  · \n'
            ' │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  ·  ·  └─────┘  · \n'
            ' │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌────────┐  ┌─────┐  · \n'
            ' │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘  └──┐  │  · \n'
            ' │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌────────┘  │  · \n'
            ' │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌────────┘  · \n'
            ' │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌────────┐ \n'
            ' │  │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌─────┘ \n'
            ' │  │  │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  ┌──┐ \n'
            ' │  │  │  │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘  │ \n'
            ' │  │  │  │  │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌─────┘ \n'
            ' │  │  │  │  │  │  │  │  │  │  │  │  │  │  ┌──┘  ┌────────┘  │  │  │  │  │  ┌──┘  ┌─────┘  ┌──────────────┘  │  │  │  │  │  │  │  │  │  ┌──┘  ┌──┘  ┌──┐ \n'
            ' └──┘  └──┘  └──┘  └──┘  └──┘  └──┘  └──┘  └──┘  └───────────┘  └──┘  └──┘  └──┘  └────────┘  └──────────────┘  └──┘  └──┘  └──┘  └──┘  └──┘  └──┘  └──┘ '
        )
        self.assertEqual(expected_solution_string, str(solution))
        other_solution = game_solver.get_other_solution()
        self.assertEqual(Grid.empty(), other_solution)
