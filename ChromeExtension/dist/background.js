(()=>{"use strict";var t={84:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ApplicationPuzzleBinairoPlus=void 0,e.ApplicationPuzzleBinairoPlus=function(){const t=document.querySelectorAll("div.cell, div.cell-0, div.cell-1"),e=t.length,o=Math.sqrt(e);function r(t,e,o,r){const n=document.createElement("div");n.style.position="absolute",n.style.width=t,n.style.height=e,n.style.backgroundColor="green",n.style.left=o,n.style.top=r;const l=document.querySelector(".board-back");return l?l.appendChild(n):console.error('Element with class "board-back" not found.'),n}(async function(t,e){const o=JSON.stringify({matrix:t,comparison_operators:e});console.debug("body:",o);try{const t=await fetch("http://127.0.0.1:5001/binairo-plus/solution",{method:"POST",headers:{"Content-Type":"application/json"},body:o});return await t.json()}catch(t){return console.error("error:",t),[[]]}})(function(){const o=Array.from(t),r=o.map((t=>{const e=t.className;return e.includes("cell-0")?1:e.includes("cell-1")?0:-1})),n=o.filter((t=>{var e;return null===(e=t.getAttribute("style"))||void 0===e?void 0:e.includes("top: 1px")})).length,l=o.filter((t=>{var e;return null===(e=t.getAttribute("style"))||void 0===e?void 0:e.includes("left: 1px")})).length;if(n*l!==e)throw new Error("Binairo Plus grid parsing error");let i=[];for(let t=0;t<l;t++){const e=[];for(let o=0;o<n;o++)e.push(r[t*n+o]);i.push(e)}return i}(),function(){const t=(t,e)=>Array.from(t).map((t=>{var o,r;const n=t.getAttribute("style")||"",l=parseInt((null===(o=n.match(/top: (\d+)px/))||void 0===o?void 0:o[1])||"0",10),i=parseInt((null===(r=n.match(/left: (\d+)px/))||void 0===r?void 0:r[1])||"0",10);return e?[Math.floor(l/35)-1,Math.floor(i/35)]:[Math.floor(l/35),Math.floor(i/35)-1]}));return{equal_on_columns:t(document.querySelectorAll("div.eqh"),!0),non_equal_on_columns:t(document.querySelectorAll("div.neh"),!0),equal_on_rows:t(document.querySelectorAll("div.eqv"),!1),non_equal_on_rows:t(document.querySelectorAll("div.nev"),!1)}}()).then((e=>{!function(e){e.forEach(((e,n)=>{e.forEach(((e,l)=>{if(e){const e=function(t){const e=window.getComputedStyle(t);return{top:parseFloat(e.top),left:parseFloat(e.left),width:parseFloat(e.width),height:parseFloat(e.height)}}(t[n*o+l]);i=e.left+e.width/2,a=e.top+e.height/2,r("23px","1px",i-11+"px",a-11+"px"),r("23px","1px",i-11+"px",`${a+11}px`),r("1px","23px",i-11+"px",a-11+"px"),r("1px","23px",`${i+11}px`,a-11+"px")}var i,a}))}))}(e)}))}},538:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ApplicationPuzzleTapa=void 0,e.ApplicationPuzzleTapa=function(){const t=document.querySelectorAll("div.cell, div.tapa-task-cell"),e=t.length,o=Math.sqrt(e),r=o;function n(t,e,o,r){const n=document.createElement("div");n.style.position="absolute",n.style.width=t,n.style.height=e,n.style.backgroundColor="green",n.style.left=o,n.style.top=r;const l=document.querySelector(".board-back");l?l.appendChild(n):console.error('Element with class "board-back" not found.')}(async function(t){const e=JSON.stringify({matrix:t});try{const t=await fetch("http://127.0.0.1:5000/solution",{method:"POST",headers:{"Content-Type":"application/json"},body:e});return await t.json()}catch(t){return console.error("error:",t),[[]]}})(function(){const e=Array.from({length:o},(()=>Array(r).fill(!1)));return t.forEach(((t,o)=>{if(!t.className.split(" ").includes("tapa-task-cell"))return;const n=t.querySelectorAll("span"),l=[];n.forEach((t=>{l.push(parseInt(t.innerText,10))})),e[Math.floor(o/r)][o%r]=l})),e}()).then((e=>{console.log("solution:",e),function(e){e.forEach(((e,o)=>{e.forEach(((e,l)=>{if(e){const e=function(t){const e=window.getComputedStyle(t);return{top:parseFloat(e.top),left:parseFloat(e.left),width:parseFloat(e.width),height:parseFloat(e.height)}}(t[o*r+l]);i=e.left+e.width/2,a=e.top+e.height/2,n("23px","1px",i-11+"px",a-11+"px"),n("23px","1px",i-11+"px",`${a+11}px`),n("1px","23px",i-11+"px",a-11+"px"),n("1px","23px",`${i+11}px`,a-11+"px")}var i,a}))}))}(e)}))}},882:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedWebsite=void 0,e.NotSupportedWebsite=function(t){const e=new URL(t);console.log(`${e.hostname} is not supported yet`),alert(`${e.hostname} is not supported yet`)}}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,o),l.exports}(()=>{const t=o(538),e=o(84),r=o(882);chrome.action.onClicked.addListener((o=>{const n=new URL(o.url);switch(console.log(n.hostname),n.hostname){case"www.puzzle-tapa.com":chrome.scripting.executeScript({target:{tabId:o.id},func:t.ApplicationPuzzleTapa}).then();break;case"www.puzzle-binairo.com":case"www.puzzles-mobile.com":chrome.scripting.executeScript({target:{tabId:o.id},func:e.ApplicationPuzzleBinairoPlus}).then();break;default:chrome.scripting.executeScript({target:{tabId:o.id},func:r.NotSupportedWebsite,args:[n.href]}).then()}}))})()})();